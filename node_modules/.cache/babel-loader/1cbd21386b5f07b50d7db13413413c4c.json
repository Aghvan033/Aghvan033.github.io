{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LILIA\\\\Desktop\\\\New CRUD\\\\src\\\\Components\\\\Users\\\\UserPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { contactsService, usersService } from \"../../services/Service\";\nimport UserCard from \"./UserCard\";\nimport Spinner from \"../Spinner\";\nimport { Button, Col, Container, Form, InputGroup, Row } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UserPage() {\n  _s();\n\n  const [search, setSearch] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  useEffect(() => {\n    (async () => {\n      try {\n        const res = await usersService.get();\n        setUsers(res.data);\n      } catch (err) {\n        setErrorMessage(err.message);\n        console.log(errorMessage);\n      }\n    })();\n  }, [errorMessage]);\n\n  const removeUser = async userId => {\n    const confirmation = window.confirm(\"Are you sure\");\n\n    if (confirmation === true) {\n      try {\n        let res = await usersService.delete(userId);\n\n        if (res) {\n          setLoading(true);\n          let res = await usersService.get();\n          setLoading(false);\n          setUsers(res.data);\n        }\n      } catch (err) {\n        setLoading(false);\n        setErrorMessage(err.message);\n      }\n    } else {\n      return false;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      className: \"mb-5 mt-3\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(InputGroup, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n              onChange: evt => setSearch(evt.target.value),\n              type: \"text\",\n              placeholder: \"Search User...\",\n              className: \"mx-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/users/addUser\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                children: \"Add User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this) : users.length > 0 && users.map((user, index) => user.username.toUpperCase().includes(search.toUpperCase()) ? /*#__PURE__*/_jsxDEV(UserCard, {\n          id: user.id,\n          username: user.username,\n          contact: user.contact,\n          photo: user.photo,\n          removeUser: removeUser,\n          setErrorMessage: setErrorMessage\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this) : '')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserPage, \"sI831HbblzTCSyqpzffvh4MhKVw=\");\n\n_c = UserPage;\nexport default UserPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserPage\");","map":{"version":3,"names":["React","useEffect","useState","contactsService","usersService","UserCard","Spinner","Button","Col","Container","Form","InputGroup","Row","LinkContainer","UserPage","search","setSearch","loading","setLoading","users","setUsers","errorMessage","setErrorMessage","res","get","data","err","message","console","log","removeUser","userId","confirmation","window","confirm","delete","evt","target","value","length","map","user","index","username","toUpperCase","includes","id","contact","photo"],"sources":["C:/Users/LILIA/Desktop/New CRUD/src/Components/Users/UserPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { contactsService, usersService } from \"../../services/Service\";\r\nimport UserCard from \"./UserCard\";\r\nimport Spinner from \"../Spinner\";\r\nimport { Button, Col, Container, Form, InputGroup, Row } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nfunction UserPage() {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await usersService.get();\r\n        setUsers(res.data);\r\n\r\n      } catch (err) {\r\n        setErrorMessage(err.message);\r\n        console.log(errorMessage);\r\n      }\r\n    })();\r\n  }, [errorMessage]);\r\n  const removeUser = async (userId) => {\r\n    const confirmation = window.confirm(\"Are you sure\");\r\n    if (confirmation === true) {\r\n      try {\r\n        let res = await usersService.delete(userId);\r\n        if (res) {\r\n          setLoading(true);\r\n          let res = await usersService.get();\r\n          setLoading(false);\r\n          setUsers(res.data);\r\n        }\r\n      } catch (err) {\r\n        setLoading(false);\r\n        setErrorMessage(err.message);\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Container className=\"mb-5 mt-3\">\r\n        <Row>\r\n          <Col>\r\n            <InputGroup className=\"mb-3\">\r\n              <Form.Control\r\n                onChange={(evt) => setSearch(evt.target.value)}\r\n                type={\"text\"}\r\n                placeholder={\"Search User...\"}\r\n                className=\"mx-2\"\r\n              />\r\n              <LinkContainer to=\"/users/addUser\">\r\n                <Button variant=\"primary\">Add User</Button>\r\n              </LinkContainer>\r\n            </InputGroup>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <Container>\r\n        <Row className=\"justify-content-center\">\r\n          {loading ? (\r\n            <Spinner />\r\n          ) : (\r\n            users.length > 0 &&\r\n            users.map((user, index) =>\r\n              user.username.toUpperCase().includes(search.toUpperCase()) ? (\r\n                <UserCard\r\n                  key={index}\r\n                  id={user.id}\r\n                  username={user.username}\r\n                  contact={user.contact}\r\n                  photo={user.photo}\r\n                  removeUser={removeUser}\r\n                  setErrorMessage={setErrorMessage}\r\n                />\r\n              ) : (\r\n                ''\r\n              )\r\n            )\r\n          )}\r\n        </Row>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n}\r\nexport default UserPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}